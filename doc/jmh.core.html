<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>jmh.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Jmh-clojure</span> <span class="project-version">0.4.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jmh</span></div></div></li><li class="depth-2 branch current"><a href="jmh.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="jmh.option.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>option</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="jmh.core.html#var-profilers"><div class="inner"><span>profilers</span></div></a></li><li class="depth-1"><a href="jmh.core.html#var-register-profiler-alias.21"><div class="inner"><span>register-profiler-alias!</span></div></a></li><li class="depth-1"><a href="jmh.core.html#var-run"><div class="inner"><span>run</span></div></a></li><li class="depth-1"><a href="jmh.core.html#var-run-expr"><div class="inner"><span>run-expr</span></div></a></li><li class="depth-1"><a href="jmh.core.html#var-run-fn"><div class="inner"><span>run-fn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">jmh.core</h1><div class="doc"><pre class="plaintext">Clojure benchmarking with JMH.
</pre></div><div class="public anchor" id="var-profilers"><h3>profilers</h3><div class="usage"><code>(profilers)</code></div><div class="doc"><pre class="plaintext">Return a set of profiler maps. If :supported, the profiler :name is
available for use with `run`.</pre></div></div><div class="public anchor" id="var-register-profiler-alias.21"><h3>register-profiler-alias!</h3><div class="usage"><code>(register-profiler-alias! k x)</code></div><div class="doc"><pre class="plaintext">Accepts a key `k` and a value `x` suitable for the `run` :profilers
option. Registers the given profiler value under the alias k. This
name may subsequently be used in place of x. Returns nil.</pre></div></div><div class="public anchor" id="var-run"><h3>run</h3><div class="usage"><code>(run env)</code><code>(run env opts)</code></div><div class="doc"><pre class="plaintext">Run the :benchmarks given in env. Returns the benchmark results as a
sequence of maps. Options include:

  :compile-path   directory which to write .class files to. Must be on
                  the classpath. The default is to use *compile-path*
                  and should not generally need to be changed if using
                  a tool such as Leiningen or similar.

  :externs        advanced option. See below.

  :fail-on-error  halt execution on any benchmark exception. Defaults
                  to true. Note that if this is false, benchmarks that
                  fail will be missing from the returned sequence.

  :ignore-lock    do not fail if the jmh lock file cannot be obtained.

  :instrument     debugging switch. If true, capture call information
                  for each state and benchmark fn during the run. Note
                  that this option disables jmh forking. The data is
                  provided as :jmh/log metadata on the returned seq.

  :iterations     map. If key :gc is true, a garbage collection is
                  forced between each iteration. If key :synchronize
                  is false, worker threads don't wait until each is
                  ready to run an iteration before proceeding.

  :params         map. Parameters to add or override from env.
                  Parameters for externs (see below) are provided via
                  a special :jmh/externs key which gives a nested map.

  :profilers      seq. Profilers to enable while benchmarking. See
                  `profilers`. External profilers may be specified by
                  giving the class as package-prefixed symbol, Class
                  object, or tuple of [class initialization-string].

  :progress       callback fn that will receive periodic progress
                  events. Overridden by :status.

  :select         keyword or seq of selector keywords for filtering
                  benchmarks to run.

  :status         by default, jmh output is suppressed. If true,
                  display the log output while running. If a string,
                  write it to the given file. Overrides :progress.

  :type           keyword or keyword seq. Aliases for common option
                  sets. For example, :quick. Option groups described
                  in env are automatically merged for convenience. See
                  the `jmh.option` namespace for more.

  :verbose        if true or :extra, generate additional :status
                  output during the run. If :silent or false, don't
                  collect any. Provide :normal for the default.

  :warmups        map. The :mode key is one of :indi, :bulk, or
                  :bulk-indi. See the jmh WarmupMode javadoc for more.
                  The :select key may also be given to run additional
                  benchmark fns only during warmup.

  :warnings       if false, do not check for JVM configuration issues.

Along with the above, benchmark options can be specified as well to
add to or override those given in the env.

Additional advanced options are described below.

External benchmark classes may be run along side Clojure ones. The
:externs key gives a sequence of class names to process. Each item may
be a class name, or a map, the latter gives a :class name along with
an optional :select method regex and a boolean :warmup flag. Note that
the :select pattern is anchored to the beginning of the method name.
For example, to match methods ending with 'foo' use #".*foo$".</pre></div></div><div class="public anchor" id="var-run-expr"><h3>run-expr</h3><h4 class="type">macro</h4><div class="usage"><code>(run-expr expr)</code><code>(run-expr expr opts)</code></div><div class="doc"><pre class="plaintext">Benchmark an expression. Equivalent to: (run-fn (fn [] expr) opts).
</pre></div></div><div class="public anchor" id="var-run-fn"><h3>run-fn</h3><div class="usage"><code>(run-fn f)</code><code>(run-fn f opts)</code></div><div class="doc"><pre class="plaintext">Benchmark a thunk (a fn of zero arguments). See `run` for details on
the available options. Returns a single result map.

Note that benchmarking this way precludes forking.</pre></div></div></div></body></html>